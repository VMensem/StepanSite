<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>{{ title if title else 'SkillCraft - Minecraft —Å–µ—Ä–≤–µ—Ä' }}</title>
<link rel="icon" href="{{ url_for('static', filename='images/favicon.png') }}" type="image/x-icon">
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
<header class="site-header">
<div class="container header-inner">
<div class="logo"><a href="/">SkillCraft</a></div>
<nav class="main-nav">
<a href="{{ url_for('index') }}">–ì–ª–∞–≤–Ω–∞—è</a>
<a href="{{ url_for('shop') }}">–ú–∞–≥–∞–∑–∏–Ω</a>
<div class="cart-icon" onclick="window.location='{{ url_for('shop') }}'">
    üõí <span id="cart-count">0</span>
</div>
</nav>
<div class="mini-stats">
<div class="stat">–ò–≥—Ä–æ–∫–∏: <span>{{ stats.players_now }}</span></div>
<div class="stat">–ë–∞–ª–∞–Ω—Å: <span>{{ stats.balance }}</span></div>
</div>
</div>
</header>

<main>
<div class="container">
{% block content %}{% endblock %}
</div>
</main>

<footer class="site-footer">
<div class="container footer-inner">
<div>¬© <a href="/">SkillCraft</a>. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.
–°–µ—Ä–≤–µ—Ä –Ω–∏–∫–∞–∫ –Ω–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ Mojang, AB. –ò–ù–ù 664902316205.
</div>
<div class="socials">–°–æ—Ü. —Å–µ—Ç–∏: <a href="https://vk.com/vladlotto">VK</a> ¬∑ <a href="https://t.me/vladlotto">Telegram</a> ¬∑ <a href="https://discord.gg/FxKkkmwEWb">Discord</a> ¬∑ <a href="https://www.youtube.com/@Mensem">YouTube</a></div>
</div>
</footer>
<script>
function updateCartCount(animated = false) {
  let cart = JSON.parse(localStorage.getItem('cart')) || [];
  const countEl = document.getElementById('cart-count');
  if (!countEl) return;

  countEl.textContent = cart.length;

  if (animated) {
    countEl.classList.add('cart-bounce');
    setTimeout(() => countEl.classList.remove('cart-bounce'), 400);
  }
}

// –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', updateCartCount);

// –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ç–æ–≤–∞—Ä–∞ (–µ—Å–ª–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –µ—Å—Ç—å –∫–Ω–æ–ø–∫–∏)
document.addEventListener('click', (e) => {
  if (e.target.classList.contains('add-to-cart')) {
    setTimeout(() => updateCartCount(true), 100);
  }
});
</script>
</body>
</html>
